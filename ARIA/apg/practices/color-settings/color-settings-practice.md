---
# This file was generated by scripts/pre-build/library/formatForJekyll.js
title: "Supporting Color Contrast Settings"
ref: /ARIA/apg/practices/color-settings/

github:
  repository: w3c/aria-practices
  branch: main
  path: content/practices/color-settings/color-settings-practice.html
feedbackmail: public-aria-practices@w3.org
permalink: /ARIA/apg/practices/color-settings/

sidebar: true



# Context here: https://github.com/w3c/wai-aria-practices/issues/31
type_of_guidance: APG

lang: en
---
<meta charset="UTF-8" />
<meta content="width=device-width, initial-scale=1.0" name="viewport" />
<title>Supporting Color Contrast Settings</title>

<link
  rel="stylesheet"
  href="../../../../content-assets/wai-aria-practices/practices/color-settings/css/color-settings-practice.css"
/>

<link
  rel="stylesheet"
  href="../../../../content-assets/wai-aria-practices/practices/color-settings/css/switch-increase-contrast.css"
/>
<link
  rel="stylesheet"
  href="../../../../content-assets/wai-aria-practices/practices/color-settings/css/switch-color-scheme.css"
/>
<link
  rel="stylesheet"
  href="../../../../content-assets/wai-aria-practices/practices/color-settings/css/switch-current-color.css"
/>
<link
  rel="stylesheet"
  href="../../../../content-assets/wai-aria-practices/practices/color-settings/css/switch-system-color.css"
/>

<script src="../../../../content-assets/wai-aria-practices/shared/js/examples.js"></script>
<script src="../../../../content-assets/wai-aria-practices/shared/js/highlight.pack.js"></script>
<script src="../../../../content-assets/wai-aria-practices/shared/js/app.js"></script>

<script src="../../../../content-assets/wai-aria-practices/practices/color-settings/js/color-settings-practice.js"></script>
<script src="../../../../content-assets/wai-aria-practices/practices/color-settings/js/switch-system-color.js"></script>
<script src="../../../../content-assets/wai-aria-practices/patterns/switch/examples/js/switch-button.js"></script>


<link 
  rel="stylesheet"
  href="{{ '/content-assets/wai-aria-practices/styles.css' | relative_url }}"
>
<!-- Code highlighting styles -->
<link 
  rel="stylesheet"
  href="{{ '/content-assets/wai-aria-practices/shared/css/github.css' | relative_url }}"
>

<script>
const addBodyClass = undefined;
const enableSidebar = true;
if (addBodyClass) document.body.classList.add(addBodyClass);
if (enableSidebar) document.body.classList.add('has-sidebar');
</script>
    

<script>
    const parentPage = window.location.pathname.match(
      /\/(patterns|practices|about)\//
    )?.[1];
    if (parentPage) {
      const parentHref = 'a[href*="' + parentPage + '"]';
      document.querySelector(parentHref).classList.add('active');
    }
  </script>
<div>

    <div>
      
      
      <section id="introduction">
        <h2>Introduction</h2>
        <p>
          Some people with
          <a href="https://www.w3.org/WAI/people-use-web/abilities-barriers/visual/">visual disabilities using the web</a>
          need more than the
          <a href="https://www.w3.org/WAI/WCAG22/Understanding/contrast-minimum.html">required default minimum color contrast</a>.
          Additionally, people with visual or cognitive disabilities sometimes need combinations of colors that are different from those specified by an author.
          Operating systems provide settings that enable those users to increase contrast and choose alternate color themes.
          Web authors can ensure their content is accessible to those users by appropriately responding to such operating system settings.
          This section explains how to make components responsive to color and contrast settings and how to test support for those settings.
        </p>

        <p>This section covers:</p>
        <ol>
          <li>Operating system and browser features that enable users to adjust rendered colors and contrast ratios.</li>
          <li>Using the CSS media queries that support user color and contrast settings (<code>prefers-contrast</code>, <code>prefers-color-scheme</code>, and <code>forced-colors</code>).</li>
          <li>Using <code>&lt;system-colors&gt;</code> CSS data types to provide consistent rendering of components.</li>
          <li>Using the value of <code>currentcolor</code> to inherit the value of the <code>color</code> property value of text content that responds to user color and contrast settings.</li>
          <li>The benefits of using SVG graphics when creating components that adapt to color contrast and theme settings.</li>
        </ol>
      </section>

      <section id="os-high-contrast">
        <h2>User Options for Adjusting Colors and Contrast</h2>
        <p>The following table summarizes operating system settings that enable users to adjust color themes and increase contrast as well as authoring practices for supporting those settings in web content.</p>
        <div class="table-wrap"><table class="data">
          <caption>Operating System Contrast Adjustment Features</caption>
          <thead>
            <tr>
              <th>Feature</th>
              <th abbr="Operating Systems">OS</th>
              <th>Description</th>
              <th>Authoring Practices</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <th>Invert Colors</th>
              <td>
                <ul>
                  <li><a href="https://support.apple.com/en-ge/guide/mac-help/mchl11ddd4b3/mac">macOS</a></li>
                  <li><a href="https://support.microsoft.com/en-us/office/use-color-and-contrast-for-accessibility-in-microsoft-365-bb11486d-fc7d-4cd9-b344-16e2bc2a2387#bkmk_invertwin11">Windows</a></li>
                  <li><a href="https://support.apple.com/en-ge/guide/iphone/iph3e2e1fb0/ios">iOS</a></li>
                  <li><a href="https://support.google.com/accessibility/android/answer/6151800?hl=en">Android</a></li>
                  <li><a href="https://help.gnome.org/users/gnome-help/stable/a11y-mag.html.en">Linux/GNOME</a></li>
                </ul>
              </td>
              <td>
                <p>
                  Operating system accessibility setting that automatically transforms all rendered colors in all apps, including browser content, by subtracting each RGB value from 255.
                  This is a simple way of enabling users to turn a light color theme into a dark color theme or vice-versa.
                  It is a prominent feature in the accessibility settings of most operating systems.
                </p>
                <p>Examples of color inversion:</p>
                <ul>
                  <li>rgb(255, 255, 255) is rendered as rgb(0, 0, 0)</li>
                  <li>rgb(165, 42, 42) is rendered as rgb(90, 213, 213)</li>
                  <li>rgb(220, 220, 220) is rendered as rgb(35, 35, 35)</li>
                </ul>
              </td>
              <td>
                Browsers do not provide a way for authors to determine whether a user has the setting for invert colors enabled.
                For content to render well when invert colors is enabled,
                ensure it meets the minimum color requirements specified by
                <a href="https://www.w3.org/TR/WCAG22/">Web Content Accessibility Guidelines</a> (WCAG).
              </td>
            </tr>
            <tr>
              <th>Increase contrast</th>
              <td>
                <ul>
                  <li><a href="https://support.apple.com/guide/mac-help/change-display-settings-for-accessibility-unac089/mac">macOS</a></li>
                  <li><a href="https://support.microsoft.com/en-us/windows/change-color-contrast-in-windows-fedc744c-90ac-69df-aed5-c8a90125e696">Windows</a></li>
                  <li><a href="https://support.apple.com/en-ge/guide/iphone/ipheed8d2fca/18.0/ios/18.0">iOS</a></li>
                  <li><a href="https://www.android.com/accessibility/vision/">Android</a></li>
                  <li><a href="https://help.gnome.org/users/gnome-help/stable/a11y-contrast.html.en">Linux/GNOME</a></li>
                </ul>
              </td>
              <td>
                Operating system accessibility setting indicating the user prefers contrast that is stronger than the default minimum.
                Typically, this setting does not automatically change rendering of native apps or web content, so it only works when authors provide support for it.
                Each operating system supports  this setting differently; there is no standard that specifies how much contrast should be increased when this setting is enabled.
                A reasonable target for web content is specified by
                <a href="https://www.w3.org/WAI/WCAG22/Understanding/contrast-enhanced">WCAG 1.4.6: Contrast (Enhanced)</a>.
              </td>
              <td>
                When this setting is enabled, the CSS media query <code>prefers-contrast</code> is set to <code>more</code>.
                Develop a higher contrast color scheme and use this media query to determine when to enable it.
                This can also include switching to use <code>system-colors</code> CSS media types.
              </td>
            </tr>
            <tr>
              <th>
                Color Scheme<br>
                (AKA Light and Dark Modes)
              </th>
              <td>
                <ul>
                  <li><a href="https://support.apple.com/guide/mac-help/use-a-light-or-dark-appearance-mchl52e1c2d2/mac">macOS</a></li>
                  <li><a href="https://www.microsoft.com/en-us/windows/learning-center/when-to-use-dark-mode">Windows</a></li>
                  <li><a href="https://support.apple.com/en-ge/guide/iphone/iph60ba71065/18.0/ios/18.0#iph33fda3e85">iOS</a></li>
                  <li><a href="https://support.google.com/android/answer/9730472?hl=en">Android</a></li>
                  <li><a href="https://help.gnome.org/users/gnome-help/stable/display-night-light.html.en">Linux/GNOME</a></li>
                </ul>
              </td>
              <td>
                An operating system setting that enables users to choose between a <code>light</code> and <code>dark</code> color scheme.
                The default is usually the <code>light</code> color scheme.
                Typically, this setting does not automatically change rendering of native apps or web content, so it only works when developers provide support for it.
                Many people switch to the <code>dark</code> color scheme in dark settings, e.g. at night, because it can make content easier to read or be less disruptive to other people.
                However, people with certain visual disabilities prefer a dark color scheme as their default.
              </td>
              <td>
                The CSS media query <code>prefers-color-scheme</code> identifies the current color scheme by returning <code>light</code> or <code>dark</code>.
                Develop styles for dark text on a light background and light text on a dark background and use this media query to apply the appropriate style.
                Ensure the text content and components for both settings meet
                <a href="https://www.w3.org/TR/WCAG21/#contrast-minimum">WCAG 1.4.3: Contrast (Minimum)</a>.
              </td>
            </tr>
            <tr>
              <th>
                Contrast Themes<br>
                (AKA Forced Colors)
              </th>
              <td><a href="https://support.microsoft.com/en-us/windows/change-color-contrast-in-windows-fedc744c-90ac-69df-aed5-c8a90125e696">Windows 10 and later.</a></td>
              <td>
                Operating system accessibility feature that automatically forces all native apps and web content to render using an alternative color theme chosen by the user.
                Some of the themes are designed to provide extra high contrast, and users can customize their chosen color theme.
                Browsers replace author specified colors with user specified colors based on the type of HTML element.
                Browser selections for replacement colors generally respect the system colors described below.
                Note that ARIA attributes do not inform replacement color selection, e.g., a <code>div</code> with role <code>button</code> renders with text colors, not button colors.
              </td>
              <td>
                When a user selects a contrast theme, the CSS media query <code>forced-colors</code> is set to <code>active</code>.
                Use <code>currentcolor</code> and <code>system-color</code> values to style user interface controls and custom widgets to the user preferences.
              </td>
            </tr>
            </tbody>
          </table></div>
        </section>

      <section id="invert-colors">
        <h2>Invert Colors</h2>
        <p>
          The invert colors accessibility setting is an operating system feature that automatically transforms all rendered colors to their opposite.
          For example, content rendered as white is changed to black.
          Content styled as blue is rendered as a brown, i.e., a mixture of red and green.
          CSS does not provide a media query that enables authors to determine whether invert colors is enabled in the operating system.
        </p>
        <p>
          For content to render well when invert colors is enabled, ensure it meets
          <a href="https://www.w3.org/TR/WCAG22/#contrast-minimum">WCAG 1.4.3: Contrast (Minimum)</a>.
        </p>
        <p>
          The following example illustrates how a <code>switch</code> element is rendered on macOS both when invert colors is disabled and enabled.
        </p>
        <div class="table-wrap"><table class="data">
          <caption>Invert Colors Example: Button Switch</caption>
          <thead>
            <tr>
              <th>Setting</th>
              <th>Screen Shot</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>Invert Colors: Off (default)</td>
              <td><img src="../../../../content-images/wai-aria-practices/practices/color-settings/images/currentcolor-macos-invert-off.png" alt="Screen shot of switch example with invert colors turned off" style="height: 85px"></td>
            </tr>
            <tr>
              <td>Invert Colors: on</td>
              <td><img src="../../../../content-images/wai-aria-practices/practices/color-settings/images/currentcolor-macos-invert-on.png" alt="Screen shot of switch example with invert colors turned on" style="height: 85px"></td>
            </tr>
          </tbody>
        </table></div>
      </section>

      <section id="prefers-contrast">
        <h2>Increase Contrast</h2>
        <p>
          Increase contrast is an operating system feature, usually available in accessibility settings, that enables users to specify a preference for contrast that is higher than default minimum.
          When users turn on increased contrast, each operating system changes the contrast of its own user interface differently; there is no standard for how much contrast should be increased.
          Typically, this setting does not automatically change rendering of native apps or web content, so users benefit only when authors provide support for it.
        </p>
        <p>To support the increase contrast setting:</p>
        <ol>
          <li>
            Develop an increased contrast color scheme that meets or exceeds the requirements specified in
            <a href="https://www.w3.org/WAI/WCAG21/Understanding/contrast-enhanced">WCAG 1.4.6: Contrast (Enhanced)</a>.
          </li>
          <li>When the the <code>prefers-contrast</code> media query changes from <code>no-preference</code> to <code>more</code>, render content using the increased contrast color scheme.</li>
        </ol>
        <p>Note: Operating systems that support the <code>forced-colors</code> media query set <code>prefers-contrast</code> to <code>custom</code> when the <code>forced-colors</code> is set to <code>active</code>.  </p>
        <h3 id="prefers-contrast-example">Increase Contrast Example</h3>
        <p> Enable the "increased contrast" feature on your device, and color contrast ratios in the below example will change:</p>
        <ul>
          <li>Text contrast increases from 12.8 to 18.1.</li>
          <li>Contrast of border and fill for the button increases from 4.6 to 12.2.</li>
        </ul>

        <div class="example">
          <button type="button" role="switch" aria-checked="false" class="increase-contrast">
            <span class="label">Living Room Lights</span>
            <svg xmlns="http://www.w3.org/2000/svg" height="20" width="36">
              <rect class="container" x="1" y="1" width="34" height="18" rx="9" ></rect>
              <circle class="off" cx="11"  cy="10" r="8" ></circle>
              <circle class="on"  cx="25" cy="10" r="8" ></circle>
            </svg>
            <span class="on" aria-hidden="true">On</span>
            <span class="off" aria-hidden="true">Off</span>
          </button>
          <button type="button" role="switch" aria-checked="false" class="increase-contrast">
            <span class="label">Outdoor Lights</span>
            <svg xmlns="http://www.w3.org/2000/svg" height="20" width="36">
              <rect class="container" x="1" y="1" width="34" height="18" rx="9" ></rect>
              <circle class="off" cx="11"  cy="10" r="8" ></circle>
              <circle class="on"  cx="25" cy="10" r="8" ></circle>
            </svg>
            <span class="on" aria-hidden="true">On</span>
            <span class="off" aria-hidden="true">Off</span>
          </button>
        </div>

        <div class="table-wrap"><table class="data">
          <caption>Increase Contrast Example Color Changes</caption>
          <thead>
            <tr>
              <th rowspan="2" style="vertical-align: bottom"><code>prefers-contrast</code></th>
              <th colspan="3">Text</th>
              <th colspan="3">Button</th>
            </tr>
            <tr>
              <th abbr="Background">BG</th>
              <th>Text</th>
              <th abbr="Color Contrast Radio">CCR</th>
              <th abbr="Background">BG</th>
              <th>Fill</th>
              <th abbr="Color Contrast Radio">CCR</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <th><code>no-preference</code></th>
              <td>
                <div role="img"
                     class="sample"
                     style="background-color: #e9e9e9"
                     aria-label="Color is a light gray">
                </div>
                <span class="color">#e9e9e9</span>
              </td>
              <td>
                <div role="img"
                     class="sample"
                     style="background-color: #242424"
                     aria-label="Color is a very dark gray">
                </div>
                <span class="color">#242424</span>
              </td>
              <td>12.8</td>
              <td>
                 <div role="img"
                     class="sample"
                     style="background-color: #a1a1a1"
                     aria-label="Color is a very light gray">
                </div>
                <span class="color">#a1a1a1</span>
              </td>
              <td>
                 <div role="img"
                     class="sample"
                     style="background-color: #fff"
                     aria-label="Color is white">
                </div>
                <span class="color">#fff</span>
              </td>
              <td>4.6</td>
            </tr>
            <tr>
              <th>
                <code>more</code>
              </th>
              <td>
                 <div role="img"
                     class="sample"
                     style="background-color: #eeeeee"
                     aria-label="Accent color is light gray">
                </div>
                <span class="color">#eeeeee</span>
              </td>
              <td>
                 <div role="img"
                     class="sample"
                     style="background-color: #000000"
                     aria-label="Color is black">
                </div>
                <span class="color">#000000</span>
              </td>
              <td>18.1</td>
              <td>
                 <div role="img"
                     class="sample"
                     style="background-color: #0051A4"
                     aria-label="Color is dark blue">
                </div>
                <span class="color">#0051A4</span>
              </td>
              <td>
                 <div role="img"
                     class="sample"
                     style="background-color: #fff"
                     aria-label="Color is white">
                </div>
                <span class="color">#fff</span>
              </td>
              <td>12.2</td>
            </tr>
          </tbody>
        </table></div>

        <h4>CSS Media Query Code</h4>

        <pre>
          <code>
  @media (prefers-contrast: more) {

    button[role="switch"] {
      background-color: #eeeeee;
      color: #000;
    }

    button[role="switch"] .label {
      color: #000;
    }

    button[role="switch"] svg rect {
      fill: #0051A4;
      stroke: #061d3a;
    }

    button[role="switch"] svg circle.off,
    button[role="switch"] svg circle.on {
      stroke: #061d3a;
      fill: #fff;
    }
  }
          </code>
        </pre>

        <h3>Testing Increase Contrast</h3>
        <p>In  each operating system used by the target audience:</p>
        <ol>
          <li>Turn on the increase contrast feature, which is typically located  in accessibility settings.</li>
          <li>
            Verify that the color contrast ratios of text and components meets or exceeds the requirements specified by
            <a href="https://www.w3.org/WAI/WCAG21/Understanding/contrast-enhanced">WCAG 1.4.6: Contrast (Enhanced)</a>.
          </li>
        </ol>

      </section>

      <section id="color-scheme">
        <h2>Color Scheme (Light and Dark Modes)</h2>
        <p>
          The color scheme known as dark mode is used by Many people in dark settings, e.g. at night, because it can make content easier to read or be less disruptive to other people.
          While such use cases were primary drivers of its development, dark mode also significantly improves accessibility for many people with visual impairments.
        </p>
        <p>
          To support dark mode, develop styles for dark text on a light background and light text on a dark background and use a media query to apply the appropriate style.
          The CSS media query <code>prefers-color-scheme</code> identifies the current color scheme by returning <code>light</code> or <code>dark</code>.  Browsers support the <code>prefers-color-scheme</code> media query using the <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/color_value/light-dark"><code>light-dark</code> function</a> to identify a color value for a CSS property.
        </p>
        <p>
          Ensure the text content and components of both color schemes meet or exceed the color contrast ratios specified by
          <a href="https://www.w3.org/TR/WCAG21/#contrast-minimum">WCAG 1.4.3: Contrast (Minimum)</a>.
        </p>
        <h3 id="color-scheme-switch">Color Scheme Example: Switch</h3>
        <p>
          The below example of a switch shows how colors can change when users switch color schemes.  
          Enable "dark mode" on your device, and the example will be rendered with the dark color scheme.
        </p>
        <div class="example">
          <button type="button" role="switch" aria-checked="false" class="color-scheme">
            <span class="label">Dining Room Lights</span>
            <svg xmlns="http://www.w3.org/2000/svg" height="20" width="36">
              <rect class="container" x="1" y="1" width="34" height="18" rx="9" ></rect>
              <circle class="off" cx="11"  cy="10" r="8" ></circle>
              <circle class="on"  cx="25" cy="10" r="8" ></circle>
            </svg>
            <span class="on" aria-hidden="true">On</span>
            <span class="off" aria-hidden="true">Off</span>
          </button>
          <button type="button" role="switch" aria-checked="false" class="color-scheme">
            <span class="label">Outdoor Lights</span>
            <svg xmlns="http://www.w3.org/2000/svg" height="20" width="36">
              <rect class="container" x="1" y="1" width="34" height="18" rx="9" ></rect>
              <circle class="off" cx="11"  cy="10" r="8" ></circle>
              <circle class="on"  cx="25" cy="10" r="8" ></circle>
            </svg>
            <span class="on" aria-hidden="true">On</span>
            <span class="off" aria-hidden="true">Off</span>
          </button>
        </div>

        <div class="table-wrap"><table class="data">
          <caption>Color Scheme Changes</caption>
          <thead>
            <tr>
              <th rowspan="2" style="vertical-align: bottom">
                <code>prefers-color-scheme</code>
              </th>
              <th colspan="3">Text</th>
              <th colspan="3">Button</th>
            </tr>
            <tr>
              <th abbr="Background">BG</th>
              <th>Text</th>
              <th abbr="Color Contrast Radio">CCR</th>
              <th abbr="Background">BG</th>
              <th>Fill</th>
              <th abbr="Color Contrast Radio">CCR</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <th><code>light</code></th>
              <td>
                <div role="img"
                     class="sample"
                     style="background-color: #e9e9e9"
                     aria-label="Color is a light gray">
                </div>
                <span class="color">#e9e9e9</span>
              </td>
              <td>
                <div role="img"
                     class="sample"
                     style="background-color: #242424"
                     aria-label="Color is a very dark gray">
                </div>
                <span class="color">#242424</span>
              </td>
              <td>12.8</td>
              <td>
                 <div role="img"
                     class="sample"
                     style="background-color: #a1a1a1"
                     aria-label="Color is a very light gray">
                </div>
                <span class="color">#a1a1a1</span>
              </td>
              <td>
                 <div role="img"
                     class="sample"
                     style="background-color: #fff"
                     aria-label="Color is white">
                </div>
                <span class="color">#fff</span>
              </td>
              <td>4.6</td>
            </tr>
            <tr>
              <th>
                <code>dark</code>
              </th>
              <td>
                 <div role="img"
                     class="sample"
                     style="background-color: #333"
                     aria-label="Accent color is light gray">
                </div>
                <span class="color">#333</span>
              </td>
              <td>
                 <div role="img"
                     class="sample"
                     style="background-color: #fff"
                     aria-label="Color is black">
                </div>
                <span class="color">#fff</span>
              </td>
              <td>12.6</td>
              <td>
                 <div role="img"
                     class="sample"
                     style="background-color: #36c"
                     aria-label="Color is dark blue">
                </div>
                <span class="color">#36c</span>
              </td>
              <td>
                 <div role="img"
                     class="sample"
                     style="background-color: #fff"
                     aria-label="Color is white">
                </div>
                <span class="color">#fff</span>
              </td>
              <td>5.36</td>
            </tr>
          </tbody>
        </table></div>

        <h4>CSS Media Query Code</h4>

        <pre>
          <code>
:root {
  color-scheme: light dark;
}

button.color-scheme[role="switch"] {
  display: block;
  margin: 2px;
  padding: 4px 4px 8px 8px;
  border: 0 solid light-dark(#005a9c, #add8e6);
  border-radius: 5px;
  width: 17em;
  height: 3em;
  text-align: left;
  background-color: light-dark(#e9e9e9, #333);
  color: light-dark(#242424, #fff);
}

button.color-scheme[role="switch"] .label {
  position: relative;
  top: -3px;
  display: inline-block;
  padding: 0;
  margin: 0;
  width: 10em;
  vertical-align: middle;
  color: light-dark(#242424, #fff);
}

....

button.color-scheme[role="switch"] svg rect {
  fill: light-dark(#a1a1a1, #36c);
  stroke-width: 2;
  stroke: light-dark(#757575, #36c);
}

button.color-scheme[role="switch"] svg circle.off {
  display: block;
  stroke: light-dark(#757575, #fff);
  fill: light-dark(#fff, #fff);
  fill-opacity: 1;
}

....
          </code>
        </pre>

        <h3 id="color-scheme-wikipedia">Color Scheme Example: Wikipedia Page</h3>

        <p>The following example illustrates how Wikipedia supports the color scheme media query.  The example includes showing the "Appearance" sidebar allowing the user to choose the light or dark scheme and other rendering options for text size and column width.</p>

        <div class="table-wrap"><table class="data">
          <thead>
            <tr>
              <th>Media Query</th>
              <th>Screen Shot</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>
                <code>prefers-color-scheme: light</code>
              </td>
              <td>
                <img style="width: 95%" src="../../../../content-images/wai-aria-practices/practices/color-settings/images/wikipedia-scheme-light.png" alt="Screen shot of wikipedia page with user preferences sidebar open.  The red circle shows the users settings radio button for light settings checked.">
              </td>
            </tr>
            <tr>
              <td>
                <code>prefers-color-scheme: dark</code>
              </td>
              <td>
                <img style="width: 95%" src="../../../../content-images/wai-aria-practices/practices/color-settings/images/wikipedia-scheme-dark.png" alt="Screen shot of wikipedia page with user preferences sidebar open.  The red circle shows the users settings radio button for dark settings checked.">
              </td>
            </tr>
          </tbody>
        </table></div>

        <h3>Testing Dark Color Scheme</h3>
        <p>In  each operating system used by the target audience:</p>
        <ol>
          <li>Turn on the dark color theme.</li>
          <li>
            Verify contrast for text and components meet or exceed the contrast ratios specified by
            <a href="https://www.w3.org/WAI/WCAG21/Understanding/contrast-minimum">WCAG 1.4.2: Contrast (Minimum)</a>.
          </li>
        </ol>
      </section>

      <section id="forced-colors">
        <h2>Contrast Themes (Forced Colors)</h2>

        <p>The <code>forced-colors</code> CSS media query provides a means for components to use the color preferences of people with visual impairments.   When the user chooses a contrast theme in the operating system (i.e. in Windows 11 Accessibility Settings &gt; Contrast Theme), browsers set the <code>forced-colors</code> property to <code>active</code>.  When forced colors are active the browser overrides any author styling and applies the system color associated with the theme to each element.   Authors need to match the styling preferences of users with the semantics features of their components. For example text used in custom components for labels and instructions should use the same colors as the users contrast theme for text content.  Components that behave as links need to match the contrast theme styling for links and other interactive custom components should be based on the styling used for buttons, textbox and range controls for their features.</p>

        <p>Authors can use either <code>currentcolor</code> or <code>&lt;system-colors&gt;</code> CSS values for components to adapt to appropriate colors in the contrast theme.  The following two tables demonstrate the colors for the built-in Contrast Themes to Windows 11.  Each Contrast Theme defines 8 colors associated with user interface features.  The first table identifies the user interface features and the colors associated with each feature for the four default Contrast Themes.  The second table shows how HTML content is rendered in the Windows 11 Aquatic, Desert and Nigh Sky Contrast Themes.</p>


        <div class="table-wrap"><table class="data">
          <caption>Contrast Themes Colors for Windows 11</caption>
          <thead>
            <tr>
              <th rowspan="2" style="vertical-align: bottom">Feature</th>
              <th colspan="4">Windows 11 Contrast Themes</th>
            </tr>
            <tr>
              <th>Aquatic</th>
              <th>Desert</th>
              <th>Dusk</th>
              <th>Night Sky</th>
            </tr>
          </thead>
          <tbody id="contrast-theme-features">
          </tbody>
        </table></div>

        <p>Note: In Windows 11 users can edit the colors of a contrast theme to create their own unique theme.</p>


        <div class="table-wrap"><table class="data">
          <caption>Contrast Themes Effects for Windows 11 on HTML Content</caption>
          <thead>
            <tr>
              <th rowspan="2" style="vertical-align: bottom">Element</th>
              <th rowspan="2" style="vertical-align: bottom">Sample</th>
              <th rowspan="2" style="vertical-align: bottom">System<br>Colors</th>
              <th colspan="3">Contrast Themes Windows 11 (Chrome)</th>
            </tr>
            <tr>
              <th>Aquatic</th>
              <th>Desert</th>
              <th>Night Sky</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>
                Text Content
              </td>
              <td>
                <p>Sample Text</p>
              </td>
              <td>
                <ul class="system-colors">
                  <li>CanvasText</li>
                  <li>Canvas</li>
                </ul>
              </td>
              <td>
                <img class="theme" src="../../../../content-images/wai-aria-practices/practices/color-settings/images/p-element-aquatic-theme.png" alt="screen shot of paragraph with no styling in Aquatic Contrast theme using Chrome browser">
              </td>
              <td>
                <img class="theme" src="../../../../content-images/wai-aria-practices/practices/color-settings/images/p-element-desert-theme.png" alt="screen shot of paragraph with no styling in Desert Contrast theme using Chrome browser">
              </td>
              <td>
                <img class="theme" src="../../../../content-images/wai-aria-practices/practices/color-settings/images/p-element-night-sky-theme.png" alt="screen shot of paragraph with no styling in Night Sky Contrast theme using Chrome browser">
              </td>
            </tr>
            <tr id="system-color-links">
              <td>
                Links
              </td>
              <td>
                <div><a href="#system-color-links">Link 1</a></div>
                <div><a href="#system-color-links">Link 2</a></div>
              </td>
              <td>
                <ul class="system-colors">
                  <li>ActiveText</li>
                  <li>LinkText</li>
                  <li>VisitedText</li>
                  <li>Canvas</li>
                </ul>
              </td>
              <td>
                <img class="theme" src="../../../../content-images/wai-aria-practices/practices/color-settings/images/a-element-aquatic-theme.png" alt="screen shot of active and disabled links in Aquatic Contrast theme using Chrome browser">
              </td>
              <td>
                <img class="theme" src="../../../../content-images/wai-aria-practices/practices/color-settings/images/a-element-desert-theme.png" alt="screen shot of active and disabled links in Desert Contrast theme using Chrome browser">
              </td>
              <td>
                <img class="theme" src="../../../../content-images/wai-aria-practices/practices/color-settings/images/a-element-night-sky-theme.png" alt="screen shot of active and disabled links in Night Sky Contrast theme using Chrome browser">
              </td>
            </tr>
            <tr>
              <td>
                Buttons
              </td>
              <td>
                  <button>Button 1</button>
                  <div><input type="button" value="Button 2" disabled></div>
              </td>
              <td>
                <ul class="system-colors">
                  <li>ButtonBorder</li>
                  <li>ButtonFace</li>
                  <li>ButtonText</li>
                  <li>GrayText</li>
                </ul>
              </td>
              <td>
                <img class="theme" src="../../../../content-images/wai-aria-practices/practices/color-settings/images/button-element-aquatic-theme.png" alt="screen shot of active and disabled buttons in Aquatic Contrast theme using Chrome browser">
              </td>
              <td>
                <img class="theme" src="../../../../content-images/wai-aria-practices/practices/color-settings/images/button-element-desert-theme.png" alt="screen shot of active and disabled buttons in Desert Contrast theme using Chrome browser">
              </td>
              <td>
                <img class="theme" src="../../../../content-images/wai-aria-practices/practices/color-settings/images/button-element-night-sky-theme.png" alt="screen shot of  active and disabled buttons in Night Sky Contrast theme using Chrome browser">
              </td>
            </tr>
            <tr>
              <td>
                Checkbox
              </td>
              <td>
                <label class="system-colors">
                  <input type="checkbox">Checkbox 1
                </label>
                <label class="system-colors">
                  <input type="checkbox" checked>Checkbox 2
                </label>
                <label class="system-colors">
                  <input type="checkbox" disabled>Checkbox 3
                </label>
              </td>
              <td>
                <ul class="system-colors">
                  <li>ActiveText</li>
                  <li>ButtonBorder</li>
                  <li>ButtonFace</li>
                  <li>ButtonText</li>
                  <li>Highlight</li>
                  <li>GrayText</li>
                </ul>
              </td>
              <td>
                <img class="theme" src="../../../../content-images/wai-aria-practices/practices/color-settings/images/checkbox-element-aquatic-theme.png" alt="screen shot of unchecked, checked and disabled checkboxes in Aquatic Contrast theme using chrome browser">
              </td>
              <td>
                <img class="theme" src="../../../../content-images/wai-aria-practices/practices/color-settings/images/checkbox-element-desert-theme.png" alt="screen shot of unchecked, checked and disabled checkboxes in Desert Contrast theme using chrome browser">
              </td>
              <td>
                <img class="theme" src="../../../../content-images/wai-aria-practices/practices/color-settings/images/checkbox-element-night-sky-theme.png" alt="screen shot of unchecked, checked and disabled checkboxes in Night Sky Contrast theme using chrome browser">
              </td>
            </tr>
            <tr>
              <td>
                Radio Buttons
              </td>
              <td>
                <fieldset class="system-colors">
                  <legend>Radio Group</legend>
                  <label class="system-colors" for="radio-1">
                    <input id="radio-1" type="radio" name="sample">Radio 1
                  </label>
                  <label class="system-colors" for="radio-2">
                    <input id="radio-2" type="radio" name="sample" checked>Radio 2
                  </label>
                  <label class="system-colors" for="radio-3">
                    <input id="radio-3" type="radio" name="sample">Radio 3
                  </label>
                  <label class="system-colors" for="radio-4">
                    <input id="radio-4" type="radio" name="sample" disabled>Radio 4
                  </label>
                </fieldset>
              </td>
              <td>
                <ul class="system-colors">
                  <li>ActiveText</li>
                  <li>ButtonBorder</li>
                  <li>ButtonFace</li>
                  <li>ButtonText</li>
                  <li>Highlight</li>
                  <li>GrayText</li>
                </ul>
              </td>
              <td>
                <img class="theme" src="../../../../content-images/wai-aria-practices/practices/color-settings/images/radio-element-aquatic-theme.png" alt="screen shot of unchecked, checked and disabled radio buttons in Aquatic Contrast theme using chrome browser">
              </td>
              <td>
                <img class="theme" src="../../../../content-images/wai-aria-practices/practices/color-settings/images/radio-element-desert-theme.png" alt="screen shot of unchecked, checked and disabled radio buttons in Desert Contrast theme using chrome browser">
              </td>
              <td>
                <img class="theme" src="../../../../content-images/wai-aria-practices/practices/color-settings/images/radio-element-night-sky-theme.png" alt="screen shot of unchecked, checked and disabled radio buttons in Night Sky Contrast theme using chrome browser">
              </td>
            </tr>

            <tr>
              <td>
                Textbox
              </td>
              <td>
                <div>
                  <label class="system-colors" for="textbox-1">Text 1</label>
                  <input id="textbox-1" type="text" value="Sample value 1" size="12">
                </div>
                <div>
                  <label class="system-colors" for="textbox-2">Text 2</label>
                  <input id="textbox-2" type="text" value="Sample value 2" disabled size="12">
                </div>
              </td>
              <td>
                <ul class="system-colors">
                  <li>ButtonBorder</li>
                  <li>ButtonFace</li>
                  <li>ButtonText</li>
                  <li>Field</li>
                  <li>FieldText</li>
                  <li>GrayText</li>
                </ul>
              </td>
              <td>
                <img class="theme" src="../../../../content-images/wai-aria-practices/practices/color-settings/images/input-text-element-aquatic-theme.png" alt="screen shot of active and disabled text boxes in Aquatic Contrast theme using chrome browser">
              </td>
              <td>
                <img class="theme" src="../../../../content-images/wai-aria-practices/practices/color-settings/images/input-text-element-desert-theme.png" alt="screen shot of active and disabled text boxes in Desert Contrast theme using chrome browser">
              </td>
              <td>
                <img class="theme" src="../../../../content-images/wai-aria-practices/practices/color-settings/images/input-text-element-night-sky-theme.png" alt="screen shot of active and disabled text boxes in Night Sky Contrast theme using chrome browser">
              </td>
            </tr>
            <tr>
              <td>
                Range
              </td>
              <td>
                <p><input type="range" aria-label="Range 1"></p>
                <p><input type="range" disabled aria-label="Range 2"></p>
              </td>
              <td>
                <ul class="system-colors">
                  <li>ActiveText</li>
                  <li>ButtonBorder</li>
                  <li>ButtonFace</li>
                  <li>ButtonText</li>
                  <li>Highlight</li>
                  <li>GrayText</li>
                </ul>
              </td>
              <td>
                <img class="theme" src="../../../../content-images/wai-aria-practices/practices/color-settings/images/input-range-element-aquatic-theme.png" alt="screen shot of active and disabled range slider in Aquatic Contrast theme using chrome browser">
              </td>
              <td>
                <img class="theme" src="../../../../content-images/wai-aria-practices/practices/color-settings/images/input-range-element-desert-theme.png" alt="screen shot of  active and disabled range slider in Desert Contrast theme using chrome browser">
              </td>
              <td>
                <img class="theme" src="../../../../content-images/wai-aria-practices/practices/color-settings/images/input-range-element-night-sky-theme.png" alt="screen shot of  active and disabled range slider in Night Sky Contrast theme using chrome browser">
              </td>
            </tr>
          </tbody>
        </table></div>

        <h3>Current Color vs. System Colors</h3>

        <p>Current color can be used when the custom component is based on existing HTML elements and the system color matches the semantics of the features of the component.  For example, the following section includes an switch component example using the <code>button</code> element.   The <code>currentcolor</code> value is used for styling the SVG elements to ensure they use same color as the button element for borders, fill, stroke and text.  Another advantage of using <code>currentcolor</code> is it can often be used without including a <code>forced-colors: active</code> media query, simplifying CSS code. One concern of using current color is there is no direct control of the background color, so care must be taken to ensure the background color of the ancestor element is visible and provides sufficient contrast for the features of the custom component.  If there is not sufficient contrast, a media query will be needed an an appropriate background system color defined.</p>

        <p>System colors values should be used when the custom elements are built using elements whose current color does not match the semantics of the custom component and when <code>currentcolor</code> is insufficient for matching the styling needs of the component to make it's features discernible.  Using System colors allows for setting both foreground and background colors and making features of the custom control identifiable.  For example using <code>div</code> elements to build a custom slider component.  If the <code>currentColor</code> value is used the <code>div</code> elements cause the features of the slider to be rendered using the <code>CanvasText</code> color, when the slider features should be rendered using <code>ButtonBorder</code>, <code>ButtonFace</code> and <code>ButtonText</code>. System Colors require using the <code>forced-colors: active</code> media query to ensure the system colors are only used to override the authors theme when the use reenables a Contrast Theme.</p>

       <div class="table-wrap"><table class="data">
          <caption>Summary of Current Color vs. System Color for Interactive Components</caption>
          <thead>
            <tr>
              <th style="width: 7em">Technique</th>
              <th>Media Query</th>
              <th>Features/Use</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>
                Current Color
              </td>
              <td>
                <em>Optional</em>
              </td>
              <td>
                <ul class="compact">
                  <li>Custom components based HTML form controls which defines the use of the <code>ButtonText</code> value for current color.</li>
                  <li>Mono-color styling of component features.</li>
                  <li>Media query only needed if background contrast issues are identified.</li>
                </ul>
              </td>
            </tr>
            <tr>
              <td>
                System Colors
              </td>
              <td>
                Required
              </td>
              <td>
                <ul class="compact">
                  <li>Multi-color styling of component features.</li>
                  <li>Most custom components will be based on <code>ButtonFace</code>, <code>ButtonBorder</code> and <code>ButtonText</code> values.</li>
                  <li>Use <code>Highlight</code> or <code>ActiveText</code> values to make component features easier to identify.</li>
                  <li>For components with select-able text, use <code>Field</code> and <code>FieldText</code> to identify selections.</li>

                </ul>
              </td>
            </tr>
          </tbody>
        </table></div>

        <h4 id="compare-switch-examples">Comparing Switch Examples</h4>

        <p>The switch examples for Current Color and System Color have very similar code.  The main difference in the HTML code is the Current Color example is based on using the <code>button</code> element and the System Color example is based on a <code>div</code> element.  Both have the <code>role</code> attribute with the value <code>switch</code>.  The descendant elements include <code>span</code> elements for the labels, a SVG <code>rect</code> element for the focus ring and two SVG <code>circle</code> elements to identify the on and off states of the switch.</p>

        <p>The following tables describe the differences in the CSS code for switch examples using Current Color and System Colors.  The System Color example is able to use a larger color pallet to style the features of the switch, for example the <code>fill</code> of the off state SVG <code>circle</code> using the <code>GrayText</code> System Color and the <code>circle</code> for the on state is styled using <code>ActiveText</code>.</p>

       <div class="table-wrap"><table class="data">
          <caption>Switch Label</caption>
          <thead>
            <tr>
              <th rowspan="2" style="width: 5em">Example</th>
              <th colspan="2">Label Spans</th>
            </tr>
            <tr>
              <th class="exampleColor">Background-Color</th>
              <th class="exampleColor">Color</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>
                <a href="#currentcolor-example">
                  <code>button[role="switch"]</code>
                </a>
              </td>
              <td>Opacity 0</td>
              <td>CurrentColor</td>
            </tr>
            <tr>
              <td>
                <a href="#forced-colors-example-switch">
                  <code>div[role="switch"]</code>
                </a>
              </td>
              <td>ButtonFace</td>
              <td>ButtonText</td>
            </tr>
          </tbody>
        </table></div>

       <div class="table-wrap"><table class="data">
          <caption>Focus Ring</caption>
          <thead>
            <tr>
              <th rowspan="2" style="width: 5em">Example</th>
              <th colspan="2">Focus Ring SVG Rect</th>
            </tr>
            <tr>
              <th>Stroke</th>
              <th>Fill</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>
                <a href="#currentcolor-example">
                  <code>button[role="switch"]</code>
                </a>
              </td>
              <td>Opacity 0</td>
              <td>CurrentColor</td>
            </tr>
            <tr>
              <td>
                <a href="#forced-colors-example-switch">
                  <code>div[role="switch"]</code>
                </a>
              </td>
              <td>ButtonBorder</td>
              <td>ButtonFace</td>
            </tr>
          </tbody>
        </table></div>

       <div class="table-wrap"><table class="data">
          <caption>On/Off Switch Positions</caption>
          <thead>
            <tr>
              <th rowspan="2" style="width: 5em">Example</th>
              <th colspan="2">SVG Circle Off</th>
              <th colspan="2">SVG Circle On</th>
            </tr>
            <tr>
              <th>Stroke</th>
              <th>Fill</th>
              <th>Stroke</th>
              <th>Fill</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>
                <a href="#currentcolor-example">
                  <code>button[role="switch"]</code>
                </a>
              </td>
              <td>CurrentColor</td>
              <td>CurrentColor</td>
              <td>CurrentColor</td>
              <td>CurrentColor</td>
            </tr>
            <tr>
              <td>
                <a href="#forced-colors-example-switch">
                  <code>div[role="switch"]</code>
                </a>
              </td>
              <td>ButtonText</td>
              <td>GrayText</td>
              <td>ButtonText</td>
              <td>ActiveText</td>
            </tr>
          </tbody>
        </table></div>


        <h3>Using Current Color</h3>

        <p>The <code>currentcolor</code> keyword provides a means for components to use the color value of ancestors to set the color properties of an element, making <code>currentcolor</code> a convenient means for custom components using existing form controls like <code>input</code> and <code>button</code> elements to also automatically adapt to changes in contrast themes.  When the user chooses a contrast theme the browser sets the <code>color</code> and <code>background-color</code> values of HTML elements and ignore any authoring styling.  When a component is based on a <code>button</code> or other HTML control the elements colors will be set to the users color preference and any descendant elements can inherit the color using the <code>currentColor</code> value.  </p>

        <p>The <code>currentcolor</code> value is set to the color of the nearest ancestor element and be used to set the color of other properties, including: <code>border</code> and <code>outline</code> on HTML elements, and <code>stroke</code> and <code>fill</code> properties on SVG elements.  The <code>currentcolor</code> can be used without the <code>forced-colors</code> media query.</p>

        <p>The limitation of using <code>currentColor</code> is that it only allows using one color for the features of a control.  The limitation becomes more apparent for more complex components that can benefit from multiple colors to make features of the component easier to perceive and understand.</p>

        <div class="support-notice">
          <div class="caution"><strong>Caution:</strong>
            There is no equivalent to the <code>currentcolor</code> value for setting the background color, so when using this technique it is important for verify the color contrast of the features of the component using <code>currentcolor</code> with the background color being rendered, this includes contrast of hover and focus events.
          </div>
        </div>

        <h3 id="currentcolor-example">Current Color Example: Switch using <code>button[role="switch"]</code></h3>

        <p>The Button Switch Example uses <code>currentcolor</code> value to style the SVG elements used to indicate the on and off states.  Current color is derived from the <code>button</code> element (i.e. <code>ButtonText</code> system color) and applied to the <code>stroke</code> and <code>fill</code> properties of the <code>circle</code> elements. The SVG <code>rect</code> element has a transparent <code>fill-opacity</code> to show the background color of the <code>button</code> element (i.e. <code>ButtonFace</code> system color). </p>

        <div class="example">
          <button type="button" role="switch" aria-checked="false" class="current-color">
            <span class="label">Living Room Lights</span>
            <svg xmlns="http://www.w3.org/2000/svg" height="20" width="36">
              <rect class="container" x="1" y="1" width="34" height="18" rx="9" ></rect>
              <circle class="off" cx="11"  cy="10" r="7" ></circle>
              <circle class="on"  cx="25" cy="10" r="7" ></circle>
            </svg>
            <span class="on" aria-hidden="true">On</span>
            <span class="off" aria-hidden="true">Off</span>
          </button>
          <button type="button" role="switch" aria-checked="false" class="current-color">
            <span class="label">Outdoor Lights</span>
            <svg xmlns="http://www.w3.org/2000/svg" height="20" width="36">
              <rect class="container" x="1" y="1" width="34" height="18" rx="9" ></rect>
              <circle class="off" cx="11"  cy="10" r="7" ></circle>
              <circle class="on"  cx="25" cy="10" r="7" ></circle>
            </svg>
            <span class="on" aria-hidden="true">On</span>
            <span class="off" aria-hidden="true">Off</span>
          </button>
        </div>

        <p>The following table shows how the graphical rendering changes for the switch using <code>currentColor</code> for some high contrast options. </p>

        <div class="table-wrap"><table class="data">
          <caption>Button Switch Example with Selected High Contrast User Settings in Windows 11</caption>
          <thead>
            <tr>
              <th>Setting</th>
              <th>Screen Shot</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>Contrast Theme: none (default)</td>
              <td>
                <img class="theme-switch-button" src="../../../../content-images/wai-aria-practices/practices/color-settings/images/switch-button-default.png" alt="Screen shot of switch example with no contrast theme applied">
              </td>
            </tr>
            <tr>
              <td>Contrast Theme: Aquatic</td>
              <td><img class="theme-switch-button" src="../../../../content-images/wai-aria-practices/practices/color-settings/images/switch-button-aquatic.png" alt="Screen shot of switch example with aquatic contrast theme applied"></td>
            </tr>
            <tr>
              <td>Contrast Theme: Desert</td>
              <td>
                <img class="theme-switch-button" src="../../../../content-images/wai-aria-practices/practices/color-settings/images/switch-button-desert.png" alt="Screen shot of switch example with desert contrast theme applied">
              </td>
            </tr>
            <tr>
              <td>Contrast Theme: Night sky</td>
              <td>
                <img class="theme-switch-button" src="../../../../content-images/wai-aria-practices/practices/color-settings/images/switch-button-night-sky.png" alt="Screen shot of switch example with night sky contrast theme applied">
              </td>
            </tr>
          </tbody>
        </table></div>

       <h4>CSS Code using <code>currentcolor</code> value</h4>

        <pre>
          <code>
....

button.current-color[role="switch"] svg rect {
  fill-opacity: 0;
  stroke-width: 2;
  stroke: currentcolor;
}

button.current-color[role="switch"] svg circle.off {
  display: block;
  stroke: currentcolor;
  fill: currentcolor;
  fill-opacity: 1;
}

button.current-color[role="switch"][aria-checked="true"] svg circle.off {
  display: none;
}

button.current-color[role="switch"] svg circle.on {
  display: none;
}

button.current-color[role="switch"][aria-checked="true"] svg circle.on {
  color: green;
  display: block;
  stroke-color: currentcolor;
  fill: currentcolor;
  fill-opacity: 1;
}

....
          </code>
        </pre>

        <h3 id="currentcolor-examples">Examples using <code>currentcolor</code> keyword</h3>
        <ul>
          <li><a href="../../patterns/checkbox/examples/checkbox-mixed/">Checkbox (Mixed-State)</a></li>
          <li><a href="../../patterns/disclosure/examples/disclosure-faq/">Disclosure (Show/Hide) for Answers to Frequently Asked Questions</a></li>
          <li><a href="../../patterns/radio/examples/radio-activedescendant/">Radio Group  Using aria-activedescendant</a></li>
          <li><a href="../../patterns/slider/examples/slider-seek/">Media Seek Slider</a></li>
          <li><a href="../../patterns/slider/examples/slider-temperature/">Vertical Temperature Slider</a></li>
        </ul>


        <h3 id="using-system-colors">Using System Colors</h3>

        <p>The use of <code>&lt;system-colors&gt;</code> provides a more robust way for custom components to use appropriate colors when users choose a contrast theme.  The best practice for using <code>&lt;system-colors&gt;</code> is in conjunction with the <code>forced-colors: active</code> media query, since using <code>&lt;system-colors&gt;</code> to exclusively specify component colors limits the styling and theming options of authors.</p>

        <p>Authors should use <code>&lt;system-colors&gt;</code> associated with the features and behaviors of the component.   Most interactive custom components should be using the <code>buttonBorder</code>, <code>ButtonFace</code> and <code>ButtonText</code> values.  For more complex components to differentiate component features consider using <code>Highlight</code> or <code>ActiveText</code> values to make the features easier to identify.  See the HTML range slider (e.g. <code>input[type="range"])</code>) for how other colors than just button colors are used in styling the slider and thumb features.</p>

        <div class="table-wrap"><table class="data">
          <caption>System Colors Associated with Component Features</caption>
          <thead>
            <tr>
              <th>Feature</th>
              <th>System Colors</th>
              <th>Description</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>
                Text Content
              </td>
              <td>
                <ul class="system-colors">
                  <li>CanvasText</li>
                  <li>Canvas</li>
                </ul>
              </td>
              <td>
                Non-interactive text content will automatically use the <code>CanvasText</code> and <code>Canvas</code> colors, unless for some reason it is a descendant of a link or form control.
              </td>
            </tr>
            <tr>
              <td>
                Links
              </td>
              <td>
                <ul class="system-colors">
                  <li>ActiveText</li>
                  <li>LinkText</li>
                  <li>VisitedText</li>
                  <li>Canvas</li>
                </ul>
              </td>
              <td>
                For custom components that behave as links, they should use the <code>linkText</code> color.
                The styling will be automatically applied if the control is already a descendant of an <code>a</code> element.
              </td>
            </tr>
            <tr>
              <td>
                Buttons
              </td>
              <td>
                <ul class="system-colors">
                  <li>ButtonBorder</li>
                  <li>ButtonFace</li>
                  <li>ButtonText</li>
                </ul>
              </td>
              <td>
                For custom components that behave as buttons, they should use the <code>ButtonBorder</code>, <code>ButtonFace</code> and <code>ButtonText</code> colors.
                The styling will be automatically applied if the control is already using the <code>button</code> element.
              </td>
            </tr>
            <tr>
              <td>
                Textbox
              </td>
              <td>
                <ul class="system-colors">
                  <li>ButtonBorder</li>
                  <li>ButtonFace</li>
                  <li>ButtonText</li>
                  <li>Field</li>
                  <li>FieldText</li>
                </ul>
              </td>
              <td>
                The colors associated with custom components that include text input should use the button colors.  If the text input include selection, the <code>Field</code> and <code>FieldText</code> values should be used for selection.
              </td>
            </tr>
            <tr>
              <td>
                <ul class="system-colors">
                  <li>Checkbox</li>
                  <li>Radio</li>
                  <li>Range</li>
                </ul>
              </td>
              <td>
                <ul class="system-colors">
                  <li>ActiveText</li>
                  <li>ButtonBorder</li>
                  <li>ButtonFace</li>
                  <li>ButtonText</li>
                  <li>Highlight</li>
                </ul>
              </td>
              <td>
                <ul class="compact">
                  <li>The colors associated with checkboxes, radio buttons and range control components should use the button colors.</li>
                  <li>For checkboxes and radio buttons the background of the checkbox and radio button can be highlighted using <code>ActiveText</code> or <code>Highlight</code> values for the thumb.</li>
                  <li>For the range control the features of the thumb and the slider can be differentiated by using <code>ActiveText</code> or <code>Highlight</code> values for the thumb.  They can also be used to enhance the identification of the current value by using them to fill in the left side of the rail to the thumb control.</li>
                </ul>
              </td>
            </tr>
          </tbody>
        </table></div>

        <h3 id="computed-system-colors">System Color Support</h3>

        <p>The following table identifies the system colors defined in <a href="https://www.w3.org/TR/css-color-4/#css-system-colors">CSS Color Module Level 4</a> that support Contrast Themes.  When a user enables a Contrast Theme not all system colors change to use one of the colors defined in the theme.   The following table identifies which system colors support contrast theme colors.  The table also includes the default system color used by the default operating system.  The default colors are not consistent between browser and operating systems. </p>
        <p>NOTE: Some system colors <em>not</em> in the table may support a Contrast Theme color in either Mozilla (e.g. Firefox) or Chromium (e.g. Chrome, Edge, Opera...) based browsers, but not in both.  Only colors supported in both browsers are included in the table. </p>

        <div class="table-wrap"><table aria-labelledby="system-colors" class="data">
          <thead>
            <tr>
              <th rowspan="2">System Color</th>
              <th rowspan="2">Contrast Theme Color</th>
              <th rowspan="2">Computed Color</th>
              <th rowspan="2">Description</th>
            </tr>
          </thead>
          <tbody id="system-colors">
          </tbody>
        </table></div>

        <h3 id="do-not-use-system-colors">System Colors that do not support Contrast Themes</h3>

        <p>The following list of <code>&lt;system-colors&gt;</code> do not support contrast themes, since they do not render one of the contrast theme colors in both Mozilla (e.g. Firefox) or Chromium (e.g Chrome, Edge, Opera ..) based browsers.</p>

        <ul id="unsupported-system-colors">
        </ul>


        <h3 id="forced-colors-example-switch">System Color Example: Switch using <code>div[role="switch"]</code></h3>

      <p>The following switch example uses systems colors to style the SVG elements used to indicate the on and off states.  One reason current color cannot be used in this example is due to using <code>div[role="switch"]</code> to identify the switch component.  The <code>div</code> elements current color is <code>CanvasText</code>, and the switch needs to use the colors associated with buttons: <code>ButtonBorder</code>, <code>ButtonFace</code> and <code>ButtonText</code>. In addition to the button colors, the system colors <code>ActiveText</code> is used for the fill of the SVG circle when the switch is on the on state and the <code>GrayText</code> is used as the fill in the off state to make the state easier to discern.</p>

        <div class="example">
          <div role="switch" tabindex="0" aria-checked="false" class="system-color">
            <span class="label">Living Room Lights</span>
            <svg xmlns="http://www.w3.org/2000/svg" height="20" width="36">
              <rect class="container" x="1" y="1" width="34" height="18" rx="9" ></rect>
              <circle class="off" cx="11"  cy="10" r="7" ></circle>
              <circle class="on"  cx="25" cy="10" r="7" ></circle>
            </svg>
            <span class="on" aria-hidden="true">On</span>
            <span class="off" aria-hidden="true">Off</span>
          </div>
          <div role="switch" tabindex="0" aria-checked="false" class="system-color">
            <span class="label">Outdoor Lights</span>
            <svg xmlns="http://www.w3.org/2000/svg" height="20" width="36">
              <rect class="container" x="1" y="1" width="34" height="18" rx="9" ></rect>
              <circle class="off" cx="11"  cy="10" r="7" ></circle>
              <circle class="on"  cx="25" cy="10" r="7" ></circle>
            </svg>
            <span class="on" aria-hidden="true">On</span>
            <span class="off" aria-hidden="true">Off</span>
          </div>
        </div>

        <p>The following table shows how the graphical rendering changes for the switch using System Colors for some high contrast options. </p>

        <div class="table-wrap"><table class="data">
          <caption>Switch Example using System Colors with Selected High Contrast User Settings in Windows 11</caption>
          <thead>
            <tr>
              <th>Setting</th>
              <th>Screen Shot</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>Contrast Theme: none (default)</td>
              <td>
                <img class="theme-switch-button" src="../../../../content-images/wai-aria-practices/practices/color-settings/images/switch-div-default.png" alt="Screen shot of switch example using system colors with no contrast theme applied">
              </td>
            </tr>
            <tr>
              <td>Contrast Theme: Aquatic</td>
              <td><img class="theme-switch-button" src="../../../../content-images/wai-aria-practices/practices/color-settings/images/switch-div-aquatic.png" alt="Screen shot of switch example using system colors with aquatic contrast theme applied"></td>
            </tr>
            <tr>
              <td>Contrast Theme: Desert</td>
              <td>
                <img class="theme-switch-button" src="../../../../content-images/wai-aria-practices/practices/color-settings/images/switch-div-desert.png" alt="Screen shot of switch example using system colors with desert contrast theme applied">
              </td>
            </tr>
            <tr>
              <td>Contrast Theme: Night sky</td>
              <td>
                <img class="theme-switch-button" src="../../../../content-images/wai-aria-practices/practices/color-settings/images/switch-div-night-sky.png" alt="Screen shot of switch example using system colors with night sky contrast theme applied">
              </td>
            </tr>
          </tbody>
        </table></div>

       <h4>CSS Code using <code>&lt;system-colors&gt;</code> value</h4>

        <pre>
          <code>
@media (forced-colors: active) {
  div[role="switch"].system-color {
    background-color: ButtonFace;
    color: ButtonText;
  }

  div[role="switch"].system-color .label {
    color: ButtonText;
  }

  div[role="switch"].system-color svg rect {
    stroke: ButtonBorder;
  }

  div[role="switch"].system-color svg circle.off {
    stroke: ButtonBorder;
    fill: GrayText;
  }

  div[role="switch"].system-color[aria-checked="true"] svg circle.on {
    stroke-color: ButtonBorder;
    fill: ActiveText;
  }

  div[role="switch"].system-color:focus,
  div[role="switch"].system-color:hover {
    background-color: ButtonFace;
  }
}
          </code>
        </pre>


        <h3 id="forced-colors-example-rating">System Color Example: Rating Slider</h3>
        <p>The <a href="../../patterns/slider/examples/slider-rating/">Rating Slider Example</a> uses CSS <code>forced-colors: active</code> media query to change the styling of SVG elements used for the rating scale, thumb and labels.  The <code>buttontext</code> system color value is used for <code>stroke</code> and <code>fill</code> properties of the range and thumb elements and <code>canvas</code> system color is used for the label elements (e.g. "Extremely Unsatisfied" and "Extremely Satisfied").   The following table shows how the graphical rendering changes for some high contrast options. </p>

        <p>The <code>buttontext</code> system color value was chosen so the interactive slider elements would match the colors of other standard form controls on the page.  The <code>canvas</code> system color was chosen for the labels to match other static text on the page.
        </p>

        <div class="table-wrap"><table class="data">
          <caption>Rating Slider Example with Selected Contrast Theme Settings</caption>
          <thead>
            <tr>
              <th>Operating System</th>
              <th>Setting</th>
              <th>Screen Shot</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>Windows 11</td>
              <td>Contrast Theme: none (default)</td>
              <td>
                <img src="../../../../content-images/wai-aria-practices/practices/color-settings/images/forced-colors-windows11-theme-none.png" alt="Screen shot of switch example with no contrast theme applied" style="height: 90px">
              </td>
            </tr>
            <tr>
              <td>Windows 11</td>
              <td>Contrast Theme: Night sky</td>
              <td>
                <img src="../../../../content-images/wai-aria-practices/practices/color-settings/images/forced-colors-windows11-theme-night-sky.png" alt="Screen shot of switch example with night sky contrast theme applied" style="height: 90px">
              </td>
            </tr>
            <tr>
              <td>Windows 11</td>
              <td>Contrast Theme: Desert</td>
              <td>
                <img src="../../../../content-images/wai-aria-practices/practices/color-settings/images/forced-colors-windows11-theme-desert.png" alt="Screen shot of switch example with desert contrast theme applied" style="height: 90px">
              </td>
            </tr>
          </tbody>
        </table></div>

        <h3 id="table-forced-colors">Examples using Forced Colors</h3>
        <ul>
          <li><a href="../../patterns/feed/examples/feed/">Feed</a></li>
          <li><a href="../../patterns/slider/examples/slider-rating/">Rating Slider</a></li>
        </ul>

      </section>

      <section id="svg">
        <h2>SVG Graphics versus Bit-Mapped Images for Components</h2>

        <h3>Limitations of Bit-Mapped Images</h3>

        <p>The colors of pixels used in bit-mapped images (e.g. .png, .jpeg) can respond to media queries by changing the actual image rendered or by applying a <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/filter">CSS filter</a> to the image.  Even when one or more of these techniques are used to respond to changes in contrast settings the resulting images may still be difficult or impossible for people with some types of visual impairments to see.  Low resolution images also do not scale smoothly when the browser zoom features are used to increase the size of rendered content and the resulting distortion will make it more difficult or impossible for people to identify the component.</p>

        <p>Note: Bit-mapped images used for components should meet <a href="https://www.w3.org/TR/WCAG21/#contrast-minimum">WCAG 1.4.3: Contrast (Minimum)</a> requirement.</p>

        <h3>Benefits of SVG Graphics</h3>

        <p>SVG graphics can respond to contrast related media queries including <code>prefers-contrast</code>, <code>prefers-color-scheme</code> and <code>forced-colors</code> to change the styling of components.  SVG provides smooth scaling of the graphics as the size of components are adjusted using browser zoom features. SVG elements can also adapt to a wide variety of screen sizes and load faster due to their smaller size than equivalent bit-mapped images.</p>

        <p>Note: Be sure to include <code>forced-color-adjust=auto</code> CSS property on SVG elements, due to inconsistencies in browsers setting the default value to <code>auto</code>.</p>

        <div class="table-wrap"><table class="data">
          <caption>Summary of SVG vs. Bit-Mapped Features</caption>
          <thead>
            <tr>
              <th>Feature</th>
              <th>Bit-Mapped</th>
              <th>SVG</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <th>Scale to Screen Size</th>
              <td>No</td>
              <td>Yes</td>
            </tr>
            <tr>
              <th>Smooth Zooming</th>
              <td>Distortion</td>
              <td>Yes</td>
            </tr>
            <tr>
              <th>Color Changes using Media Queries</th>
              <td>Image substitution or CSS filters</td>
              <td>Yes</td>
            </tr>
          </tbody>
        </table></div>

      </section>

      <section id="testing">
        <h2>Testing for Contrast Theme Support</h2>

        <p>High contrast testing requires setting operating system contrast features or using browser extensions or configuration to emulate high contrast.  </p>

        <h3 id="os-high-contrast-config">Operating System High Contrast Settings</h3>

        <ul>
          <li><a href="https://support.microsoft.com/en-us/windows/change-color-contrast-in-windows-fedc744c-90ac-69df-aed5-c8a90125e696"> Windows 10 and 11: Change color contrast in Windows</a></li>
          <li><a href="https://support.apple.com/guide/mac-help/change-display-settings-for-accessibility-unac089/mac">macOS: Change Display settings for accessibility on Mac</a></li>
          <li><a href="https://help.gnome.org/users/gnome-help/stable/a11y-contrast.html.en">Linux GNOME: Adjust the contrast</a></li>
          <li><a href="https://support.apple.com/guide/ipad/make-text-easier-to-read-ipad9a246013/17.0/ipados/17.0">iPad: Make iPad text easier to read with accessibility features</a></li>
          <li><a href="https://support.apple.com/guide/iphone/make-text-easier-to-read-iph3c076905a/17.0/ios/17.0">iPhone: Make iPhone text easier to read with accessibility features</a></li>
          <li><a href="https://support.google.com/accessibility/android/answer/11183305">Android: Change text &amp; display settings</a></li>
        </ul>

        <h3 id="chrome-high-contrast-options">Chrome High Contrast Options</h3>

        <p>The Chrome browser has Render options in the DOM Inspector to enable and disable contrast related media queries. Use the <a href="https://developer.chrome.com/docs/devtools/rendering/emulate-css">DOM Inspector Render Tab: Emulate</a>  and you can change the setting for <code>prefers-color-scheme: dark</code> and <code>forced-colors: active</code>.
        </p>
      </section>

    </div>
  
</div>
<script
  src="{{ '/content-assets/wai-aria-practices/shared/js/skipto.js' | relative_url }}"
  data-skipto="colorTheme:aria; displayOption:popup; containerElement:div"
></script>

